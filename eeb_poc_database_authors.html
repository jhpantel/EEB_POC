<!--
Design by EEB_POC
email: 
Released under Creative Commons Attribution 2.5 Generic.  
-->


<!DOCTYPE html PUBLIC>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="eeb_poc.css" />

<!-- Tabulator  -->
<link href="tabulator-master/dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="tabulator-master/dist/js/tabulator.min.js"></script>

<!-- jQuery  -->
<script type="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- ajax  -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.4/fetch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.3.2/jspdf.plugin.autotable.js"></script>

<!-- PapaParse for reading csvs  -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.2.0/papaparse.min.js"></script>

<!-- Tabletop for linking with google sheet  -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>

<!-- Computer Modern font  -->
<!-- <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css">
 -->
<title>EEB_POC: Papers of Color database</title>

</head>

<!-- Body  -->

<body>
<div id="page">

</div>
<div id="mainPicture">
	<div class="picture">
    </div>
</div>

<div class="contentBox">
    <div class="innerBox">
        <div class="contentText">
        <p>This is the database of scholars that have been submitted by those that self-identify as POC, or collected from our Twitter account (@EEB_POC). </p><br />
        <p>If you would like to submit a paper to the databse, please follow the link below to use our submission form</p>
        <h1><a href="https://eebpoc-database.shinyapps.io/eebpoc_author_information_portal/">
            <img border="0" alt="Submit" src="eeb_poc_submit.png" width="448" height="120"></a></h1> 
        <h1><a href="https://eeb-bipoc-db.github.io/EEB_POC/eeb_poc_database_papers.html">
            <img border="0" alt="Papers" src="eeb_poc_papers.png" width="448" height="120"></a></h1> 
        <h1><a href="https://eeb-bipoc-db.github.io/EEB_POC/eeb_poc_twitter_papers.html">
            <img border="0" alt="Papers" src="eeb_poc_twitdb.png" width="448" height="120"></a></h1> 
        <h3><a href="index.html">Back to Announcement page</a></h1>
        <br />
        <p>This table is interactive. Drag column borders to change widths. </p><br />
        </div>
    </div>
</div>
<br />

<div id="eeb_poc-table"></div>

<script type="text/javascript">
var table2 = new Tabulator("#eeb_poc-table", {
    height:"311px", // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
    layout:"fitColumns", //fit columns to width of table (optional)
    columns:[ //Define Table Columns
        {title:"submitter_unique_id", field:"submitter_unique_id", sorter:"string"},
        // {title:"Authors", field:"Authors", sorter:"string"},
        {title:"name", field:"name", sorter:"string"},
        {title:"institution", field:"institution", sorter:"string"},
        {title:"email", field:"email", sorter:"string"},
        {title:"site", field:"site", sorter:"string"},
        {title:"country", field:"country", sorter:"string"},
        {title:"scholar", field:"scholar", sorter:"string"},
        {title:"orcid", field:"orcid", sorter:"string"},
        {title:"twitter", field:"twitter", sorter:"string"},
        {title:"careerstage", field:"careerstage", sorter:"string"},
        {title:"gender", field:"gender", sorter:"string"},
        {title:"bipoc", field:"bipoc", sorter:"string"},
        {title:"bipoc_specify", field:"bipoc_specify", sorter:"string"},
        {title:"disability", field:"disability", sorter:"string"},
        {title:"other_underrep_minority", field:"other_underrep_minority", sorter:"string"},
        {title:"other_underrep_minority_specify", field:"other_underrep_minority_specify", sorter:"string"},
        {title:"subdisc", field:"subdisc", sorter:"string"},
        {title:"disc_specify", field:"disc_specify", sorter:"string"},
        {title:"keywords", field:"keywords", sorter:"string"},
        {title:"refers", field:"refers", sorter:"string"},
        {title:"speaking_ops", field:"speaking_ops", sorter:"string"},
        {title:"upload_date", field:"upload_date", sorter:"string"},

    ],
    // rowClick:function(e, row){ //trigger an alert message when the row is clicked
    //     alert("Row " + row.getData().id + " Clicked!!!!");
    // },
});

var tabledata2;
   
var publicSpreadsheetUrl = 'https://docs.google.com/spreadsheets/d/1gdUUGmM2nGJMTrhcVHmY-ikiHsUEt6A5GwlsnK3LXCQ/edit?usp=sharing';

  function init() {
    Tabletop.init( { key: publicSpreadsheetUrl,
                     callback: showInfo,
                     simpleSheet: true } )
  }

  function showInfo(data, tabletop) {
    // alert('Successfully processed!') 
    console.log("Finished:", 
        tabledata2 = data);
    table2.setData(data);
  }

  window.addEventListener('DOMContentLoaded', init)

// Papa.parse('database/EEB_POC_database.csv', {
//     header: true,
//     download: true,
//     complete: function(results) {
//         console.log("Finished:", 
//             tabledata2 =results.data);
//             table2.setData(results.data);
//     }
// });



</script>




</body>

</html>

